{% extends 'base.html' %}

{% block body %}
<head>
    <!-- Add cache-busting version parameter -->
    <link rel="stylesheet" href="{{ url_for('static', filename='nav.css') }}?v=1.1">
    <link rel="stylesheet" href="{{ url_for('static', filename='stylehh.css') }}?v=1.1">
    
    
</head>

<div class="profile-container">
    <!-- Rest of your template remains the same -->
    <div class="profile-card">
        <div class="profile-pic-container">
            <img src="{{ url_for('static', filename='uploads/' + (user.profile_pic or 'default.png')) }}" 
                 alt="Profile Picture" class="profile-pic">
        </div>
        <div class="profile-info">
            <h1 class="username">{{ user.username }}</h1>
            <p class="email">{{ user.email }}</p>

            {% if user.bio %}
                <p class="bio"><strong>Bio:</strong> {{ user.bio }}</p>
            {% endif %}

            {% if user.gender %}
                <p class="gender"><strong>Gender:</strong> {{ user.gender }}</p>
            {% endif %}

            {% if user.mental_health_status %}
                <p class="mental-health"><strong>Mental Health Status:</strong> {{ user.mental_health_status }}</p>
            {% endif %}

            {% if user.preferred_contact_method %}
                <p class="contact-method"><strong>Preferred Contact:</strong> {{ user.preferred_contact_method }}</p>
            {% endif %}

            {% if session['id'] == user.id %}
                <a href="{{ url_for('edit_profile') }}" class="edit-profile-btn">Edit Profile</a>
            {% endif %}
        </div>
    </div>

    <div class="profile-posts">
        <h2>{{ user.username }}'s Posts</h2>
        {% if posts %}
            <ul class="user-post-list">
                {% for post in posts %}
                    <li class="user-post-item">
                        <h3>{{ post.title }}</h3>
                        <p>{{ post.content }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>This user hasn't posted anything yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}