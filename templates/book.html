{% extends "base.html" %}

{% block body %}
<link rel="stylesheet" href="{{ url_for('static', filename='book.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='nav.css') }}">

<main>
    <form action="{{ url_for('book') }}" method="post">
        <label for="professional">Select Professional:</label>
        <select name="professional" id="professional" required {% if selected_professional %}disabled{% endif %}>
            {% if selected_professional %}
                <option value="{{ selected_professional['name'] }}" selected>
                    {{ selected_professional['name'] }} - {{ selected_professional['specialty'] }} (${{ selected_professional['rate'] }}/hr)
                </option>
            {% else %}
                <option value="">-- Select --</option>
                {% for prof in professionals %}
                    <option value="{{ prof['name'] }}">{{ prof['name'] }} - {{ prof['specialty'] }} (${{ prof['rate'] }}/hr)</option>
                {% endfor %}
            {% endif %}
        </select>

        <label for="time_slot">Select Time Slot:</label>
        <select name="time_slot" id="time_slot" required>
            <option value="">-- Select Time Slot --</option>
            {% if selected_professional %}
                {% for slot in selected_professional['availability'] %}
                    <option value="{{ slot }}">{{ slot }}</option>
                {% endfor %}
            {% endif %}

        </select>

        <button type="submit">Book Now</button>
    </form>
</main>
{% endblock %}
