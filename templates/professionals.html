{% extends "base.html" %}

{% block body %}
<link rel="stylesheet" href="{{ url_for('static', filename='nav.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='stylehh.css') }}">

<header>
    <h1>Consult with Professionals</h1>
</header>
<main>
    <div class="professional-list">
        {% for prof in professionals %}
        <div class="professional">
            <img src="{{ url_for('static', filename='profs/' + prof.photo) }}" alt="{{ prof.name }}">
            <h2>{{ prof.name }}</h2>
            <p><strong>Specialty:</strong> {{ prof.specialty }}</p>
            <p><strong>Hourly Rate:</strong> ${{ prof.rate }}</p>
            <button class="book-btn">Book Session</button>
        </div>
        {% endfor %}
    </div>
</main>

<script>
    document.querySelectorAll('.book-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            let professionalName = event.target.closest('.professional').querySelector('h2').innerText;
            window.location.href = `/book?professional=${encodeURIComponent(professionalName)}`;
        });
    });
</script>
{% endblock %}
